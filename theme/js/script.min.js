(() => {
  // javascript/script.js
  var ss;
  (function($) {
    ss = {
      init: function() {
        this.nav();
        this.form();
        this.misc();
        this.togglers();
        this.slider();
        this.gallery();
      },
      ie: function() {
        try {
          if (/MSIE (\d+\.\d+);/.test(navigator.userAgent) || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
            $("body").addClass("ie-user");
            return true;
          }
        } catch (err) {
          console.log(err);
        }
        return false;
      },
      nav: function() {
        $(".navbar-toggler").on("click", function() {
          $(this).toggleClass("collapsed");
          $(".navbar-collapse").toggleClass("show");
        });
        $(".navbar-nav .menu-item-has-children .caret").on(
          "click",
          function() {
            $(this).next(".dropdown-menu").slideToggle();
          }
        );
        var winWidth = jQuery(window).width();
        jQuery(' a.js-has-smooth-scroll[href*="#"]:not([href="#"])').click(
          function() {
            if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname == this.hostname) {
              var target = jQuery(this.hash);
              target = target.length ? target : jQuery("[name=" + this.hash.slice(1) + "]");
              if (target.length) {
                jQuery("html, body").animate(
                  {
                    scrollTop: target.offset().top - 20
                  },
                  1e3
                );
                return false;
              }
            }
          }
        );
      },
      form: function() {
        try {
          $(".input-text.qty").each(function() {
            var elm = $(this);
            $(
              '<span class="qty-des"><i class="icon-angle-left"></i></span>'
            ).insertBefore($(this));
            $(
              '<span class="qty-ins"><i class="icon-angle-right"></i></span>'
            ).insertAfter($(this));
            elm.prev(".qty-des").on("click", function() {
              var val = parseInt(elm.val());
              if (val > 1) {
                elm.val(val - 1);
              }
            });
            elm.next(".qty-ins").on("click", function() {
              var val = parseInt(elm.val());
              elm.val(val + 1);
            });
          });
        } catch (err) {
          console.log(err);
        }
      },
      misc: function() {
        try {
          let handleStickyHeader2 = function() {
            var scroll = $(window).scrollTop();
            var header = $(".site-header");
            if (scroll >= 30) {
              header.addClass("stickyHeader");
            } else {
              header.removeClass("stickyHeader");
            }
          }, siteContentOffset2 = function() {
            var header = $(".site-header");
            var banner = $(".site-content");
            var headerHeight = header.innerHeight();
            banner.css("margin-top", headerHeight + "px");
          }, stickyFooter2 = function() {
            let stickyFooter3 = $(".sticky-footer");
            let stickyFooterHeight = stickyFooter3.innerHeight();
            let siteFooter = $(".site-footer");
            siteFooter.css("margin-bottom", stickyFooterHeight);
          };
          var handleStickyHeader = handleStickyHeader2, siteContentOffset = siteContentOffset2, stickyFooter = stickyFooter2;
          stickyFooter2();
          let debounceTimeout;
          $(window).on("resize", function() {
            clearTimeout(debounceTimeout);
            debounceTimeout = setTimeout(function() {
              stickyFooter2();
            }, 250);
          });
        } catch (err) {
          console.log(err);
        }
      },
      togglers: function() {
        $(document).on("click", ".toggleFaqBtn", function(e) {
          e.stopPropagation();
          var clickedToggleBtn = $(this);
          $(".toggleFaqBtn").not(clickedToggleBtn).removeClass("active");
          $(".toggleFaqBtn").not(clickedToggleBtn).parent(".item").removeClass("active");
          $(".toggleFaqBtn").not(clickedToggleBtn).siblings(".toggleBlock").slideUp();
          clickedToggleBtn.toggleClass("active");
          clickedToggleBtn.parent(".item").toggleClass("active");
          clickedToggleBtn.siblings(".toggleBlock").slideToggle();
        });
        $(".toggleBtn").click(function() {
          $(".toggleBtn").not(this).siblings(".toggleBlock").slideUp();
          $(this).toggleClass("active");
          $(".toggleBtn").not(this).removeClass("active");
          $(this).siblings(".toggleBlock").slideToggle();
        });
        $(".tab-btn").click(function() {
          $(".tab-btn").removeClass("active");
          $(this).addClass("active");
          $(".tab-item").addClass("hidden");
          var targetId = $(this).attr("data-target");
          $(targetId).removeClass("hidden");
        });
        const customTabWrapper = document.querySelector(".ss-custom-tab");
        const dropbtn = document.querySelector(".dropBtn");
        const dropdownContent = document.querySelector(".tabNav");
        if (customTabWrapper) {
          let updateDropButtonText2 = function(text) {
            dropbtn.textContent = text;
          }, handleTabClick2 = function(e) {
            if (e.target.classList.contains("nav-item")) {
              e.preventDefault();
              const itemTarget = e.target.getAttribute("href").replace("#", "");
              const tabPane = document.getElementById(itemTarget);
              if (tabPane) {
                document.querySelectorAll(".nav-item").forEach(
                  (navItem) => navItem.classList.remove("active")
                );
                document.querySelectorAll(".tabPane").forEach(
                  (tabPane2) => tabPane2.classList.add("hidden")
                );
                e.target.classList.add("active");
                tabPane.classList.remove("hidden");
                updateDropButtonText2(e.target.textContent);
                if (!dropdownContent.classList.contains("hidden")) {
                  dropdownContent.classList.add("hidden");
                  dropbtn.classList.remove("active");
                }
              }
            }
          };
          var updateDropButtonText = updateDropButtonText2, handleTabClick = handleTabClick2;
          customTabWrapper.addEventListener("click", handleTabClick2);
          dropbtn.addEventListener("click", () => {
            dropdownContent.classList.toggle("hidden");
            dropbtn.classList.toggle("active");
          });
          const initialActiveNavItem = document.querySelector(
            ".ss-custom-tab .nav-item.active"
          );
          if (initialActiveNavItem) {
            updateDropButtonText2(initialActiveNavItem.textContent);
          }
        }
      },
      slider: function() {
        const swiper = new Swiper(".image-slider", {
          spaceBetween: 50,
          slidesPerView: 3,
          autoplay: {
            delay: 3e3
          },
          loop: true,
          loopedSlides: 4,
          breakpoints: {
            768: {
              slidesPerView: 4
            },
            1024: {
              slidesPerView: 7,
              spaceBetween: 62
            }
          }
        });
      }
      // gallery: function () {
      // 	try {
      // 		$('.fancybox').fancybox({
      // 			openEffect: 'none',
      // 			closeEffect: 'none',
      // 		});
      // 	} catch (err) {
      // 		console.log(err);
      // 	}
      // 	try {
      // 	    var fix = function () {
      // 	        var t = $(".woocommerce-product-gallery__trigger"), h = t.next(".flex-viewport").outerHeight() - 16;
      // 	        t.height(h);
      // 	    };
      // 	    $(window).bind("load resize", fix);
      // 	    $(".woocommerce-product-gallery .flex-control-nav li").on("click", function () {
      // 	        setTimeout(fix, 500);
      // 	    });
      // 	} catch (err) {
      // 	    console.log(err);
      // 	}
      // },
    };
    $(function() {
      ss.init();
    });
  })(jQuery);
  var accordionHeader = document.querySelectorAll(".accordion-header");
  accordionHeader.forEach((header) => {
    header.addEventListener("click", function() {
      const accordionContent = header.parentElement.querySelector(".accordion-content");
      const accordionMaxHeight = accordionContent.style.maxHeight;
      if (accordionMaxHeight == "0px" || accordionMaxHeight.length == 0) {
        accordionContent.style.maxHeight = `${accordionContent.scrollHeight + 32}px`;
        accordionContent.classList.add("bg-white");
        header.parentElement.classList.add("active");
      } else {
        accordionContent.style.maxHeight = `0px`;
        header.parentElement.classList.remove("active");
      }
    });
  });
  var tabs = document.querySelectorAll("[data-tab-target]");
  var tabContents = document.querySelectorAll("[data-tab-content]");
  tabs.forEach((tab) => {
    tab.addEventListener("click", () => {
      const target = document.querySelector(tab.dataset.tabTarget);
      tabContents.forEach((tab2) => {
        tab2.classList.add("hidden");
      });
      tabs.forEach((tab2) => {
        if (tab2.classList.contains("selected")) {
          tab2.classList.remove("selected");
        }
      });
      target.classList.remove("hidden");
      tab.classList.add("selected");
    });
  });
  var playVideo = document.getElementById("play-video");
  var video = document.getElementById("video");
  var videoOverlay = document.getElementById("video-overlay");
  playVideo.addEventListener("click", () => {
    video.play();
    console.log(videoOverlay);
    videoOverlay.classList.add("hidden");
    videoOverlay.parentElement.classList.add("before:opacity-0");
  });
})();
